
# Data and Methodology

## Data Sources

About eighty percent of the Singapore population lives in public housing [@DOSInfographic]. Property characteristics are heterogeneous across different submarkets [@Sing2006], so this paper studies only new sales in the condominium and apartment market, of which 134,183 transactions were collected. Public housing by the Housing Development Board (HDB) as well as executive condominiums (ECs) are subsidised and have eligibility criteria [see @HDBFlat; also @HDBEC], hence they might function differently from the private housing market. In the private property market, I use only residential properties, because commercial and office buildings do undergo asset enhancement initiatives (AEIs) every once in a while. If the timing of the GM award coincides with these AEIs, the DID cannot isolate the effect of the GM award from the other relevant improvements in the property as a result of the AEI. 

Housing transactions ranging from Jan 2003 to Mar 2016 was obtained from the Real Estate Information System (REALIS) of Singapore. A total of 331,405 private residential housing transactions were collected. These transactions were then geocoded using the Onemap Search API. After geocoding, the distance of each property to the nearest MRT station was calculated. The coordinates of MRT stations was obtained again by using the Onemap Search API.

Information about the GM awards was obtained by scraping the Building Construction Authority of Singapore (BCA) Green Mark Buildings Directory [^gm_buildings_directory], searching for Residential and Mixed Developments. Since the GM Buildings Directory only contained the year of award, I obtained the exact dates of the award by searching for "BCA Awards" the Straits Times archive from LexisNexis. Green Mark winners are announced on the BCA awards night, so I searched for the dates of the BCA awards night for each year (2005 till 2015).

Information about condominium facilities was obtained from (??). Construction Quality Assessment System (CONQUAS) scores for projects were obtained from the BCA's Information on Construction Quality (IQUAS) database [^IQUAS]. 

```{r, include = FALSE}
source("misc/load_libraries.R")
source("misc/custom_tab_summary.R")
knitr::opts_chunk$set(include = FALSE, echo = FALSE, message = FALSE, warning = FALSE)
```

```{r}
data <- read_rds("data/final/data.RDS") %>% 
    filter(sale_type == "New Sale" & ctrl_prop_type != "Executive Condominium")
```

## Descriptive Statistics

As of Feb 2017, there are around 1600 GM rated properties, of which `r data %>% filter(award_dummy == 1) %>% distinct(project_name) %>% nrow()` are relevant for this study (private residential properties excluding ECs). There are `r data %>% filter((award_dummy == 0) & (ctrl_prop_type != "Executive Condominium")) %>% distinct(project_name) %>% nrow()` non-GM rated projects. For the main sample used in the analysis (new sales from the above criteria), there are `r data %>% filter((award_dummy == 1) & (ctrl_prop_type != "Executive Condominium") & (sale_type == "New Sale")) %>% distinct(project_name) %>% nrow()` GM rated projects and `r data %>% filter((award_dummy == 0) & (ctrl_prop_type != "Executive Condominium") & (sale_type == "New Sale")) %>% distinct(project_name) %>% nrow()` non-GM rated projects. 

Table \@ref(tab:summary-stats) shows some basic descriptive statistics for the new, non-EC sales, including a comparison between GM and non-GM rated properties.

```{r summary-stats, include = TRUE}
data2 <- data %>% 
    mutate(unit_price_psm = exp(ln_price_psm), 
           unit_size = exp(ctrl_ln_area),
           award_dummy = factor(award_dummy, labels = c("Non-GM", "GM")),
           ctrl_prop_type = fct_drop(ctrl_prop_type),
           award_type = as.character(award_type),
           award_type = replace(award_type, is.na(award_type), "No Award"),
           award_type = factor(award_type),
           award_type = fct_relevel(award_type, "Certified", "Gold", "Gold Plus", "Platinum"),
           conquas_score_cat = fct_drop(conquas_score_cat),
           ctrl_freehold = factor(ctrl_freehold, labels = c("Leasehold", "Freehold")),
           year_sale = factor(str_sub(sale_ym, 1, 4))) %>% 
    select(-ctrl_floor2)
my_summary <- with(data2, 
                   list("Property Type" = tab_summary2(ctrl_prop_type),
                        "Unit Price (S$/sqm)" = tab_summary2(unit_price_psm),
                        "Unit Size (sqm)" = tab_summary2(unit_size),
                        "Distance to MRT (km)" = tab_summary2(ctrl_dist_mrt)[-4],
                        "Lease Type" = tab_summary2(ctrl_freehold),
                        "Floor" = tab_summary2(ctrl_floor)[c(2, 3)],
                        "Green Mark Award" = tab_summary2(award_type),
                        "CONQUAS Score" = tab_summary2(conquas_score_cat),
                        "Facilities (%)" = list("BBQ Pit" = ~mean_sd2(facil_bbq),
                                                "Swimming Pool" = ~mean_sd2(facil_swp),
                                                "Tennis Court" = ~mean_sd2(facil_tennis),
                                                "Basketball Court" = ~mean_sd2(facil_basketball),
                                                "Gym" = ~mean_sd2(facil_gym),
                                                "Function Room" = ~mean_sd2(facil_functionrm),
                                                "Jacuzzi" = ~mean_sd2(facil_jacuzzi),
                                                "Sauna" = ~mean_sd2(facil_sauna)),
                        "Transaction Year" = tab_summary2(year_sale)))
overall_table <- summary_table(data2, my_summary)
grouped_table <- summary_table(data2 %>% group_by(award_dummy), my_summary)
cbind(overall_table, grouped_table) %>% 
    render_table(caption = "Comparison of GM and non-GM rated Properties")
```

In general, GM-rated properties tend to be of higher quality, selling for higher price psm. The average GM-rated property is also larger, closer to an MRT station, on a higher floor, is more likely to be CONQUAS rated and have higher CONQUAS score. Within the GM-rated properties, about 10% of them are Certified, 42% are awarded Gold, 40% awarded Gold Plus, and 9% awarded Platinum. 

## Methodology

Certified buildings can have a price premium due to two reasons: either the signalling effect provided by the certification, or that good features tend to cluster together such that green buildings are also higher quality buildings in other aspects. Fuerst [-@Fuerst2016] also pointed out that energy efficient features present in green buildings may also affect building performance in non-environmental aspects, and hence also generate a price premium that is unrelated to environmental friendliness. 

This study uses a difference-in-differences (DID) approach to isolate the signalling effect from any other factors associated with the GM certification that might contribute to a price premium.

Housing prices are modelled using the hedonic price model introduced by Rosen [-@Rosen1974]. In this model, housing price is a function of structural, environmental and locational attributes. These attributes carry implicit prices, which are revealed from observed prices of different properties with different combinations of attributes. These implicit prices are estimated with regression analysis.

This paper uses a feature of the GM program in Singapore to isolate the signalling effects of an environmental certification. Because certification takes time, developments sometimes get the award only after their launch. This makes it possible to use a DID framework to isolate the effect of the award as a signal from other unobserved characteristics. The idea is that the award is an "unexpected shock" to buyers, and hence the price premium attributed to the property after the award will be independent of other unobserved characteristics, which may cluster together with green features. In essence, because nothing about the property has changed after it is awarded with the GM award, any price premium that is generated after the award should be independent of unobserved characteristics.

This study uses only new sales of private residential properties, excluding ECs. This is because ECs are subsidised by HDB and have eligibility criteria, which implies that it is limited to a certain group of buyers. 

### "Naive" Model

The first models run are basic models that test the difference in price between GM and non-GM rated dwellings. These are hedonic pricing models with the natural log of price per square metre (psm) [^cpideflated] as the dependent variable, and hedonic characteristics as the independent variables. 

I first start off by regressing the natural log of price psm on a dummy indicating whether or not a property is GM certified:

\begin{equation} 
  P_i = \beta_0 + \beta_1 GM_i + \epsilon_i
  (\#eq:naive)
\end{equation}

where $i$ indexes housing transactions, $GM_i$ indicates if the property associated with transaction $i$ is GM-certified.

The model specified by \@ref(eq:naive) has several weaknesses. It does not consider any hedonic characteristics at all. Since the GM award is likely to be correlated with other hedonic characteristics which affect housing prices, the model suffers from omitted variable bias. As such, the model can be improved by adding other hedonic characteristics and locational controls:

\begin{equation} 
  P_i = \beta_0 + \beta_1 GM_i + \beta X_i + \lambda loc_i + \epsilon_i
  (\#eq:naivewithcontrols)
\end{equation}

where $X_i$ is a vector of hedonic attributes, including the property type (apartment or condominium), the natural log of the area in sqm of the unit, a freehold dummy, two order polynomial of the floor that the unit is on, dummies indicating if the unit is on the bottom or top floor (these units have less liveable space), distance to MRT (in kilometres), the number of years to completion when the sale happened, and availability of facilities such as gymnasium or swimming pool. $loc_i$ is a vector of 4-digit postal code dummies.

The predictive performance of this model can be further improved by controlling for the property market cycle. This is done by adding in year-month dummies:

\begin{equation} 
  P_{it} = \beta_0 + \beta_1 GM_i + \beta X_i + \lambda loc_i + \gamma_t + \epsilon_{it}
  (\#eq:naivewithcontrolsandtimefe)
\end{equation}

### DID Model

Even with these controls, it is likely that there are other omitted variables that are correlated with the GM award and the price of a property. Unobserved quality of the property is one such omitted variable. 

In order to separate the effect of the award from the effect of unobserved quality differences between GM and non-GM rated properties, a DID approach can be used. In this context, the cross-section variation (treatment or control group) is simply whether or not a property is GM-rated. The time variation is before and after a property gets its GM rating.

There is a challenge in defining the time variation for a traditional DID model, because the timing of award varies between properties. However, this issue is solved by using time (year-month) dummies in the regression equation, like in a fixed effects (FE) model, except without entity fixed effects. The resulting model is as follows:

\begin{equation} 
  P_{it} = \beta_0 + \beta_1 GM_i + \beta_2 GM_i \times AfterGM_{it} + \beta X_i + \lambda loc_i + \gamma_t + \epsilon_{it}
  (\#eq:did)
\end{equation}

where $CONQUAS_i$ represents the CONQUAS score of the property

The model can still be improved further, by adding available measures of quality of a property. For instance, the CONQUAS score can be added to control for the construction quality of a property, which is likely to be correlated with the GM award and also the price of a property.

\begin{equation} 
  P_{it} = \beta_0 + \beta_1 GM_i + \beta_2 GM_i \times AfterGM_{it} + \beta X_i + \beta_3 CONQUAS_i + \lambda loc_i + \gamma_t + \epsilon_{it}
  (\#eq:didwithconquas)
\end{equation}

where $CONQUAS_i$ represents the CONQUAS score of the property

Since CONQUAS is a voluntary rating scheme, the model specified in equation \@ref(eq:didwithconquas) results in a lot of observations being dropped. This is problematic because it might result in selection bias in the model, since unevaluated properties are dropped from the model. Instead, dummies representing ranges of the CONQUAS score can be used; a dummy indicating missing CONQUAS score can also be included so as to not exclude non-CONQUAS rated properties.

\begin{equation} 
  P_{it} = \beta_0 + \beta_1 GM_i + \beta_2 GM_i \times AfterGM_{it} + \beta X_i + \delta CONQUAS_i + \lambda loc_i + \gamma_t + \epsilon_{it}
  (\#eq:didwithconquascat)
\end{equation}

where $CONQUAS_i$ is a vector of CONQUAS score range dummies (e.g. 61-70, 71-80, 81-90, >90, missing)

### Placebo DID Checks

In order to ensure that the DID models are robust (i.e. non-GM properties are comparable to GM properties after accounting for the other regressors), a placebo DID model was run.

A conventional placebo DID approach that simply shifts the time variation dummy to some time before the actual treatment would not work in this case. Since property developers can inform potential buyers that their property would be GM-rated, buyers are likely to price in part of the premium associated with green features before the official GM announcement date.

Instead, the same DID model was run on resales data, defining the "after GM" dummy as whether or not the new sale of the unit was after the GM announcement. This way, the resale transaction of a GM-rated unit is always already GM-rated by the time of resale; the DID coefficient in this specification should have a coefficient of zero. Any GM-rated project which had resales before being GM-rated were removed. Essentially, the placebo DID coefficient is checking that there is no difference between GM-rated properties, regardless of whether the GM announcement happened before the first sale or before the resale. If a GM-rated resale property sells before it obtains the GM certification, there will be a price difference between it and other GM-rated properties which have already obtained the GM certification. Here is an example:

| Order of GM        | Placebo DID Dummy Value                                         |
|--------------------|-----------------------------------------------------------------|
| Non-GM             | 0                                                               |
| New Sale-GM-Resale | 0                                                               |
| GM-New Sale-Resale | 1                                                               |
| New Sale-Resale-GM | 0 (these are excluded from the model to avoid causing problems) |

[^gm_buildings_directory]: The BCA Green Mark Buildings Directory contains a list of buildings which are awarded with the Green Mark award. Information about the award such as the award year is provided. Website can be found here: [https://www.bca.gov.sg/green_mark/KnowledgeResources/BuildingDirectory.aspx](https://www.bca.gov.sg/green_mark/KnowledgeResources/BuildingDirectory.aspx)

[^IQUAS]: The IQUAS database contains information about projects, such as the CONQUAS score and Quality Mark certification. Website can be found here: [https://www.bca.gov.sg/Professionals/IQUAS/IQUAS/default.aspx?menuID=4](https://www.bca.gov.sg/Professionals/IQUAS/IQUAS/default.aspx?menuID=4)

[^cpideflated]: Prices were deflated by the CPI before being log-transformed

\newpage